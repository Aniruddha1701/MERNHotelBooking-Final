(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},219:function(e,t,a){},246:function(e,t,a){},325:function(e,t,a){},326:function(e,t,a){},327:function(e,t,a){},333:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),s=a.n(c),o=(a(189),a(88)),i=a(34),l=(a.p,a(190),a(191),a(3));var d=function(){var e=JSON.parse(localStorage.getItem("currentUser"));function t(){localStorage.removeItem("currentUser"),window.location.href="/login"}return Object(l.jsx)("div",{children:Object(l.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light custom-navbar",children:[Object(l.jsx)("a",{className:"navbar-brand",href:"/home",children:"Booking.com"}),Object(l.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})}),Object(l.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:e?Object(l.jsx)("ul",{className:"navbar-nav",children:Object(l.jsxs)("li",{className:"nav-item dropdown",children:[Object(l.jsxs)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(l.jsx)("i",{className:"fas fa-user mr-2"}),e.name]}),Object(l.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(l.jsx)("a",{className:"dropdown-item",href:"/profile",children:"Profile"}),Object(l.jsx)("div",{className:"dropdown-divider"}),Object(l.jsx)("a",{className:"dropdown-item",href:"#",onClick:t,children:"Logout"})]})]})}):Object(l.jsxs)("ul",{className:"navbar-nav",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("a",{className:"nav-link",href:"/register",children:"Register"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)("a",{className:"nav-link",href:"/login",children:"Login"})})]})})]})})},j=a(22),u=a.n(j),b=a(31),m=a(18),O=a(30),h=a.n(O),x=(a(210),a(338)),p=a(37),f=a.n(p),v=a(339),g=a(345);var y=function(e){var t=e.room,a=e.fromDate,r=e.toDate,c=Object(n.useState)(!1),s=Object(m.a)(c,2),i=s[0],d=s[1],j=function(){return d(!1)},u=function(e){for(var t=e.value,a=[],n=0;n<5;n++)n<t?a.push(Object(l.jsx)("span",{style:{color:"#FFD700"},children:"\u2605"},n)):a.push(Object(l.jsx)("span",{style:{color:"#DDDDDD"},children:"\u2605"},n));return Object(l.jsx)("div",{style:{fontSize:"20px",display:"inline-block"},children:a})};return Object(l.jsxs)("div",{className:"row bs",children:[Object(l.jsx)("div",{className:"col-md-2",children:Object(l.jsx)("img",{src:t.imageurls[0],className:"smallimg",alt:""})}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("h1",{children:t.name}),Object(l.jsxs)("b",{children:[Object(l.jsxs)("p",{children:[Object(l.jsx)("i",{class:"fas fa-home"}),"  Type: ",t.type.toUpperCase()]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("i",{class:"fas fa-map-marker-alt"})," Address: ",t.address]}),Object(l.jsxs)("p",{style:{color:"green"},children:[Object(l.jsx)("i",{className:"fas fa-check-circle"})," Free Cancellation"]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("i",{className:"fas fa-wifi"})," 24/7 WiFi Available"]})]}),Object(l.jsxs)("div",{style:{float:"right"},children:[a&&r&&Object(l.jsx)(o.b,{to:"/book/".concat(t._id,"/").concat(a,"/").concat(r),children:Object(l.jsx)("button",{className:"btn btn-primary m-2",children:"Book Now"})}),Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){return d(!0)},children:"View Detail"})]})]}),Object(l.jsxs)(v.a,{show:i,onHide:j,size:"lg",children:[Object(l.jsx)(v.a.Header,{closeButton:!0,children:Object(l.jsx)(v.a.Title,{style:{fontFamily:"Arial, sans-serif",color:"#333",textAlign:"center"},children:t.name})}),Object(l.jsxs)(v.a.Body,{style:{fontFamily:"Arial, sans-serif",color:"#555"},children:[t.image&&Object(l.jsx)("img",{src:t.image,alt:t.name,style:{width:"100%",height:"auto"}}),Object(l.jsx)("p",{children:t.description}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Max Count:"})," ",t.maxcount]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Phone Number:"})," ",t.phonenumber]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Address:"})," ",t.address]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("strong",{children:"Rating:"})," ",Object(l.jsx)(u,{value:5})]})]}),Object(l.jsx)(v.a.Footer,{children:Object(l.jsx)(g.a,{variant:"secondary",onClick:j,children:"Close"})})]})]})},N=a(133),k=(a(219),[Object(l.jsx)(N.BeatLoader,{}),Object(l.jsx)(N.BounceLoader,{}),Object(l.jsx)(N.CircleLoader,{})]);var w=function(e){var t=e.loadingText,a=void 0===t?"Loading...":t,r=e.delay,c=void 0===r?500:r,s=Object(n.useState)(!1),o=Object(m.a)(s,2),i=o[0],d=o[1],j=Object(n.useState)(k[0]),u=Object(m.a)(j,2),b=u[0],O=u[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){d(!0);var e=Math.floor(Math.random()*k.length);O(k[e])}),c);return function(){return clearTimeout(e)}}),[c]),Object(l.jsx)("div",{className:"loader-container ".concat(i?"fade-in":""),children:Object(l.jsxs)("div",{className:"sweet-loading",children:[b,Object(l.jsx)("p",{className:"loading-text",children:a})]})})};var S=function(e){var t=e.msg;return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"alert alert-danger",role:"alert",children:["Something went wrong, please try again. ",t]})})},C=a(111),I=a.n(C);a(158),a(246);I.a.init({duration:1e3});var D=x.a.RangePicker,P="DD-MM-YYYY",A=function(){var e=Object(n.useState)(!0),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(m.a)(c,2),o=s[0],i=s[1],d=Object(n.useState)([]),j=Object(m.a)(d,2),O=j[0],x=j[1],p=Object(n.useState)(),v=Object(m.a)(p,2),g=v[0],N=v[1],k=Object(n.useState)([]),C=Object(m.a)(k,2),I=C[0],A=C[1],E=Object(n.useState)([]),R=Object(m.a)(E,2),L=R[0],F=R[1],T=Object(n.useState)(""),U=Object(m.a)(T,2),B=U[0],Y=U[1],M=Object(n.useState)(""),_=Object(m.a)(M,2),q=_[0];_[1];Object(n.useEffect)((function(){var e=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i(""),r(!0),B.trim()){e.next=11;break}return e.next=6,h.a.get("/api/rooms/getallrooms");case 6:t=e.sent,0===(a=t.data).length?i("No hotels available"):(x(a),F(a)),e.next=16;break;case 11:return e.next=13,h.a.get("/api/rooms/getallrooms?location=".concat(q));case 13:n=e.sent,0===(c=n.data).length?i("No hotels available at this location"):0===(s=c.filter((function(e){return e.address.toLowerCase().includes(B.toLowerCase())}))).length?i("No hotels found for the specified address"):(x(s),F(s));case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0),i(e.t0.message);case 22:return e.prev=22,r(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[0,18,22,25]])})));return function(){return e.apply(this,arguments)}}(),t=setTimeout((function(){e()}),300);return function(){return clearTimeout(t)}}),[q,B]);return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("div",{className:"row mt-5 bs",children:[Object(l.jsx)("div",{className:"col-md-3",children:Object(l.jsx)(D,{format:P,onChange:function(e){try{N(f()(e[0]).format(P)),A(f()(e[1]).format(P));var t=L.filter((function(e){return e.currentbookings.every((function(e){var t=f()(e.fromdate,P),a=f()(e.todate,P);return!f()(g).isBetween(t,a,null,"[]")&&!f()(I).isBetween(t,a,null,"[]")}))}));x(t)}catch(o){console.error(o)}}})}),Object(l.jsx)("div",{className:"col-md-3",children:Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"Search address",value:B,onChange:function(e){return Y(e.target.value)}})}),Object(l.jsx)("div",{className:"col-md-3 select-box",children:Object(l.jsxs)("select",{className:"form-control",onChange:function(e){return function(e){var t="all"!==e?L.filter((function(t){return t.type.toLowerCase()===e.toLowerCase()})):L;x(t)}(e.target.value)},children:[Object(l.jsx)("option",{value:"all",children:"All"}),Object(l.jsx)("option",{value:"delux",children:"Delux"}),Object(l.jsx)("option",{value:"non-delux",children:"Non-Delux"})]})})]}),Object(l.jsx)("div",{className:"row justify-content-center mt-5",children:a?Object(l.jsx)(w,{}):o.length>0?Object(l.jsx)(S,{msg:o}):O.map((function(e){return Object(l.jsx)("div",{className:"col-md-9 mt-3",children:Object(l.jsx)(y,{room:e,fromDate:g,toDate:I})},e.id)}))})]})},E=a(172),R=a.n(E),L=a(69),F=a.n(L);function T(e){var t=e.user,a=e.fromdate,n=e.todate,r=e.maxcount;return Object(l.jsxs)("div",{className:"booking-details",children:[Object(l.jsx)("h2",{children:"Booking Details"}),Object(l.jsx)("hr",{}),Object(l.jsxs)("dl",{className:"row",children:[Object(l.jsx)("dt",{className:"col-sm-4",children:"Name:"}),Object(l.jsx)("dd",{className:"col-sm-8",children:t.name}),Object(l.jsx)("dt",{className:"col-sm-4",children:"Email:"}),Object(l.jsx)("dd",{className:"col-sm-8",children:t.email}),Object(l.jsx)("dt",{className:"col-sm-4",children:"Phone:"}),Object(l.jsx)("dd",{className:"col-sm-8",children:t.phone}),Object(l.jsx)("dt",{className:"col-sm-4",children:"From Date:"}),Object(l.jsx)("dd",{className:"col-sm-8",children:a}),Object(l.jsx)("dt",{className:"col-sm-4",children:"To Date:"}),Object(l.jsx)("dd",{className:"col-sm-8",children:n}),Object(l.jsx)("dt",{className:"col-sm-4",children:"Max Count:"}),Object(l.jsx)("dd",{className:"col-sm-8",children:r})]})]})}function U(e){var t=e.totalDays,a=e.rentPerDay,n=e.totalAmount;return Object(l.jsxs)("div",{className:"amount-details",children:[Object(l.jsx)("h2",{children:"Amount"}),Object(l.jsx)("hr",{}),Object(l.jsxs)("dl",{className:"row",children:[Object(l.jsx)("dt",{className:"col-sm-4",children:"Total Days:"}),Object(l.jsx)("dd",{className:"col-sm-8",children:t}),Object(l.jsx)("dt",{className:"col-sm-4",children:"Rent per day:"}),Object(l.jsx)("dd",{className:"col-sm-8",children:a}),Object(l.jsx)("dt",{className:"col-sm-4",children:"Total Amount:"}),Object(l.jsx)("dd",{className:"col-sm-8",children:n})]})]})}var B=function(e){var t=e.match,a=Object(n.useState)(!0),r=Object(m.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(""),i=Object(m.a)(o,2),d=i[0],j=i[1],O=Object(n.useState)({}),x=Object(m.a)(O,2),p=x[0],v=x[1],g=Object(n.useState)(0),y=Object(m.a)(g,2),N=y[0],k=y[1],C=Object(n.useState)(0),I=Object(m.a)(C,2),D=I[0],P=I[1],A=(t.params.roomid,f()(t.params.fromdate,"DD-MM-YYYY")),E=f()(t.params.todate,"DD-MM-YYYY");Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(""),s(!0),e.next=5,h.a.post("/api/rooms/getroombyid",{roomid:t.params.roomid});case 5:a=e.sent.data,v(a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching room details:",e.t0),j("Error fetching room details");case 13:s(!1);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}JSON.parse(localStorage.getItem("currentUser"))||(window.location.href="/login"),function(){e.apply(this,arguments)}()}),[t.params.roomid]),Object(n.useEffect)((function(){var e=f.a.duration(E.diff(A)).asDays()+1;P(e),k(e*p.rentperday)}),[p,A,E]);var L=function(){var e=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a={room:p,userid:JSON.parse(localStorage.getItem("currentUser"))._id,fromdate:A,todate:E,totalAmount:N,totaldays:D,token:t},e.prev=2,s(!0),e.next=6,h.a.post("/api/bookings/bookroom",a);case 6:e.sent,s(!1),F.a.fire("Congratulations","Your Room Booked Successfully","success").then((function(e){window.location.href="/home"})),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),j("Error booking room"),F.a.fire("Oops","Error booking room","error"),s(!1);case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"container mt-5",children:c?Object(l.jsx)(w,{}):d?Object(l.jsx)(S,{msg:d}):Object(l.jsx)("div",{className:"row justify-content-center",children:Object(l.jsx)("div",{className:"col-md-9",children:Object(l.jsx)("div",{className:"card booking-card",children:Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("h1",{className:"card-title",children:p.name}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-md-6",children:Object(l.jsx)("img",{src:p.imageurls[0],alt:"",className:"img-fluid"})}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)(T,{user:JSON.parse(localStorage.getItem("currentUser")),fromdate:t.params.fromdate,todate:t.params.todate,maxcount:p.maxcount}),Object(l.jsx)(U,{totalDays:D,rentPerDay:p.rentperday,totalAmount:N}),Object(l.jsx)(R.a,{amount:100*N,token:L,currency:"INR",stripeKey:"pk_test_51O9WBOSIyGgiMQrLCwUPCRbY72ulPsdoF2exIkjRfhcnhxEycbPs0Q1O7L0L71OH88CrmWfznRKlPe1XtCcgoVrD002RemqUt4",children:Object(l.jsx)("button",{className:"btn btn-primary mt-3",children:"Pay Now"})})]})]})]})})})})})},Y=a(121),M=a(66);a(325);var _=function(){var e=Object(n.useState)({name:"",email:"",password:"",confirmPassword:""}),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(m.a)(c,2),o=s[0],i=s[1],d=Object(n.useState)(""),j=Object(m.a)(d,2),O=j[0],x=j[1],p=function(e){var t=e.target,n=t.name,c=t.value;r(Object(M.a)(Object(M.a)({},a),{},Object(Y.a)({},n,c)))},f=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,c,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=a.name,r=a.email,c=a.password,s=a.confirmPassword,n&&r&&c&&s){e.next=5;break}return x("Please fill in all fields"),e.abrupt("return");case 5:if(c===s){e.next=8;break}return x("Passwords do not match"),e.abrupt("return");case 8:return i(!0),e.prev=9,e.next=12,h.a.post("/api/users/register",{name:n,email:r,password:c});case 12:o=e.sent,localStorage.setItem("currentUser",JSON.stringify(o.data)),window.location.href="/login",e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),x("Registration failed. Please try again.");case 20:return e.prev=20,i(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[9,17,20,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"register-container",children:[o&&Object(l.jsx)(w,{}),Object(l.jsxs)("div",{className:"register-form",children:[O&&Object(l.jsx)(S,{msg:O}),Object(l.jsx)("h2",{children:"Register"}),Object(l.jsxs)("form",{onSubmit:f,children:[Object(l.jsx)("input",{type:"text",name:"name",placeholder:"Name",value:a.name,onChange:p}),Object(l.jsx)("input",{type:"email",name:"email",placeholder:"E-mail",value:a.email,onChange:p}),Object(l.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:a.password,onChange:p}),Object(l.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Confirm password",value:a.confirmPassword,onChange:p}),Object(l.jsx)("button",{type:"submit",children:"Register"})]}),Object(l.jsxs)("div",{children:["Already have an account? ",Object(l.jsx)("a",{href:"/login",children:"Login"})]})]})]})};a(326);var q=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(m.a)(c,2),o=s[0],i=s[1],d=Object(n.useState)(!1),j=Object(m.a)(d,2),O=j[0],x=j[1],p=Object(n.useState)(""),f=Object(m.a)(p,2),v=f[0],g=f[1],y=Object(n.useState)(""),N=Object(m.a)(y,2);function k(){return(k=Object(b.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a&&o){e.next=4;break}return g("Please fill in all fields"),e.abrupt("return");case 4:return x(!0),n={email:a,password:o},e.prev=6,e.next=9,h.a.post("/api/users/login",n);case 9:r=e.sent.data,localStorage.setItem("currentUser",JSON.stringify(r)),window.location.href="/home",e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),g("Invalid Credentials");case 17:x(!1);case 18:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}return N[0],N[1],Object(l.jsxs)("div",{className:"login-container",children:[O&&Object(l.jsx)(w,{}),Object(l.jsx)("div",{className:"login-wrapper",children:Object(l.jsxs)("div",{className:"login-content",children:[v.length>0&&Object(l.jsx)(S,{msg:v}),Object(l.jsxs)("div",{className:"login-box",children:[Object(l.jsx)("h2",{className:"login-title",children:"Login"}),Object(l.jsxs)("form",{onSubmit:function(e){return k.apply(this,arguments)},className:"login-form",children:[Object(l.jsx)("input",{type:"text",className:"form-control",placeholder:"Email",value:a,onChange:function(e){r(e.target.value)}}),Object(l.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",value:o,onChange:function(e){i(e.target.value)}}),O?Object(l.jsx)("div",{className:"login-loading",children:"Login...Please Wait..."}):Object(l.jsx)("button",{className:"btn btn-primary mt-3",type:"submit",children:"Login"})]}),Object(l.jsx)("div",{className:"login-links",children:Object(l.jsxs)("span",{children:["New here? ",Object(l.jsx)("a",{href:"/register",children:"Sign Up"})]})})]})]})})]})},z=a(341),J=a(183),K=a(36);var G=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!0),s=Object(m.a)(c,2),o=s[0],i=s[1],d=Object(n.useState)(""),j=Object(m.a)(d,2),O=j[0],x=j[1],p=JSON.parse(localStorage.getItem("currentUser"));function f(){return v.apply(this,arguments)}function v(){return(v=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(""),i(!0),e.prev=2,e.next=5,h.a.post("/api/bookings/getbookingbyuserid",{userid:p._id});case 5:t=e.sent.data,r(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),x(e.t0);case 13:i(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function g(){return(g=Object(b.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(""),i(!0),e.prev=2,e.next=5,h.a.post("/api/bookings/cancelbooking",{bookingid:t,roomid:a});case 5:e.sent.data,i(!1),F.a.fire("Congratulations","Your Room Cancelled Successfully","success").then((function(e){f()})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),F.a.fire("Opps","Error:"+e.t0,"error");case 14:i(!1);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){f()}),[]),Object(l.jsx)("div",{children:o?Object(l.jsx)(w,{}):O.length>0?Object(l.jsx)(S,{msg:O}):Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col-md-6  ml-5",children:a&&a.map((function(e){return Object(l.jsxs)("div",{className:"bs",children:[Object(l.jsx)("h1",{children:e.room}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"BookingId:"})," ",e._id]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"CheckIn:"})," ",e.fromdate]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"CheckOut:"})," ",e.todate]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Amount:"})," ",e.totalamount]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Status:"})," ","booked"===e.status?Object(l.jsx)(J.a,{color:"green",children:"CONFIRMED"}):Object(l.jsx)(J.a,{color:"red",children:"CANCELLED"})]}),"booked"===e.status&&Object(l.jsx)("div",{className:"text-right",children:Object(l.jsx)("button",{className:"btn btn-danger",onClick:function(){!function(e,t){g.apply(this,arguments)}(e._id,e.roomid)},children:"Cancel Booking"})})]})}))})})})},H=(a(327),z.a.TabPane);var W=function(){var e=JSON.parse(localStorage.getItem("currentUser"))||{};return Object(n.useEffect)((function(){e||(window.location.href="/login")}),[e]),Object(l.jsx)("div",{className:"profile-container",children:Object(l.jsxs)(z.a,{defaultActiveKey:"1",children:[Object(l.jsx)(H,{tab:"Profile",children:Object(l.jsx)("div",{className:"profile-content",children:Object(l.jsxs)("div",{className:"profile-details",children:[Object(l.jsx)("h2",{className:"profile-title",children:"My Profile"}),Object(l.jsxs)("p",{className:"profile-info",children:["Name: ",e.name]}),Object(l.jsxs)("p",{className:"profile-info",children:["Email: ",e.email]}),e.isAdmin&&Object(l.jsx)(J.a,{className:"admin-tag",children:"Admin"}),Object(l.jsx)(K.a,{type:"primary",href:e.isAdmin?"/admin":"/",className:"profile-button",children:e.isAdmin?"Go to Admin":"Go to Home"})]})})},"1"),Object(l.jsx)(H,{tab:"Booking",children:Object(l.jsx)(G,{})},"2")]})})},V=a(337);var Q=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!0),s=Object(m.a)(c,2),o=s[0],i=s[1],d=Object(n.useState)(""),j=Object(m.a)(d,2),O=j[0],x=j[1],p=[{title:"Transaction id",dataIndex:"transactionid",key:"transactionid"},{title:"Room id",dataIndex:"roomid",key:"roomid"},{title:"Room",dataIndex:"room",key:"room"},{title:"From-date",dataIndex:"fromdate",key:"fromdate"},{title:"To-date",dataIndex:"todate",key:"todate"},{title:"Status",dataIndex:"status",key:"status",render:function(e){return Object(l.jsx)(l.Fragment,{children:"booked"===e?Object(l.jsx)(J.a,{color:"green",children:"CONFIRMED"}):Object(l.jsx)(J.a,{color:"red",children:"CANCELLED"})})}}];function f(){return(f=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(""),i(!0),e.prev=2,e.next=5,h.a.post("/api/bookings/getallbookings");case 5:t=e.sent.data,r(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),x(e.t0);case 13:return e.prev=13,i(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),Object(l.jsx)("div",{className:"row",children:o?Object(l.jsx)(w,{}):O.length>0?Object(l.jsx)(S,{msg:O}):Object(l.jsx)("div",{className:"col-md-12",children:Object(l.jsx)(V.a,{columns:p,dataSource:a,rowKey:"_id"})})})},X=a(346);var Z=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!0),s=Object(m.a)(c,2),o=s[0],i=s[1],d=Object(n.useState)(""),j=Object(m.a)(d,2),O=j[0],x=j[1],p=[{title:"Roomid",dataIndex:"_id",key:"_id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Max count",dataIndex:"maxcount",key:"maxcount"},{title:"Phone number",dataIndex:"phonenumber",key:"phonenumber"},{title:"Rent /day",dataIndex:"rentperday",key:"rentperday"},{title:"Type",dataIndex:"type",key:"type"},{title:"Action",key:"action",render:function(e,t){return Object(l.jsx)(X.b,{size:"middle",children:Object(l.jsx)("button",{onClick:function(){return function(e){return g.apply(this,arguments)}(t._id)},children:"Delete"})})}}];function f(){return v.apply(this,arguments)}function v(){return(v=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(""),i(!0),e.prev=2,e.next=5,h.a.post("/api/rooms/getallrooms");case 5:t=e.sent.data,r(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),x(e.t0);case 13:i(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function g(){return(g=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(""),i(!0),e.prev=2,e.next=5,h.a.post("/api/rooms/deleteroom",{roomId:t});case 5:f(),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),x(e.t0),i(!1);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){f()}),[]),Object(l.jsx)("div",{className:"row",children:o?Object(l.jsx)(w,{}):O.length>0?Object(l.jsx)(S,{msg:O}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"col md-12",children:Object(l.jsx)("button",{className:"btn btn-success",onClick:f,children:"Refresh"})}),Object(l.jsx)("div",{className:"col-md-12",children:Object(l.jsx)(V.a,{columns:p,dataSource:a})})]})})},$=a(340),ee=a(347),te=a(344),ae=a(343),ne=$.a.Item;var re=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!0),s=Object(m.a)(c,2),o=s[0],i=s[1],d=Object(n.useState)(""),j=Object(m.a)(d,2),O=j[0],x=j[1],p=Object(n.useState)(!1),f=Object(m.a)(p,2),v=f[0],g=f[1],y=Object(n.useState)(null),N=Object(m.a)(y,2),k=N[0],C=N[1],I=$.a.useForm(),D=Object(m.a)(I,1)[0],P=[{title:"User-id",dataIndex:"_id",key:"_id"},{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Admin",dataIndex:"isAdmin",key:"isAdmin",render:function(e,t){return Object(l.jsxs)(l.Fragment,{children:[!0===e?Object(l.jsx)(J.a,{color:"green",children:"YES"}):Object(l.jsx)(J.a,{color:"red",children:"NO"}),!e&&Object(l.jsx)(ee.a,{title:"Are you sure you want to make this user an admin?",onConfirm:function(){return function(e){return R.apply(this,arguments)}(t._id)},okText:"Yes",cancelText:"No",children:Object(l.jsx)(K.a,{type:"primary",size:"small",style:{marginLeft:8},children:"Make Admin"})})]})}},{title:"Actions",key:"actions",render:function(e,t){return Object(l.jsxs)(X.b,{children:[Object(l.jsx)(K.a,{type:"primary",size:"small",onClick:function(){return F(t._id)},children:"Update"}),Object(l.jsx)(ee.a,{title:"Are you sure you want to delete this user?",onConfirm:function(){return function(e){return L.apply(this,arguments)}(t._id)},okText:"Yes",cancelText:"No",children:Object(l.jsx)(K.a,{type:"danger",size:"small",children:"Delete"})})]})}}];function A(){return E.apply(this,arguments)}function E(){return(E=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(""),i(!0),e.prev=2,e.next=5,h.a.get("/api/users/getallusers");case 5:t=e.sent.data,r(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),x(e.t0.message||"An error occurred while fetching user data");case 13:return e.prev=13,i(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})))).apply(this,arguments)}function R(){return(R=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(""),i(!0),e.prev=2,e.next=5,h.a.post("/api/users/makeadmin",{userId:t});case 5:A(),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),x(e.t0.message||"Error making the user an admin"),i(!1);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function L(){return(L=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(""),i(!0),e.prev=2,e.next=5,h.a.post("/api/users/deleteuser",{userId:t});case 5:A(),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),x(e.t0.message||"Error deleting the user"),i(!1);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}var F=function(e){g(!0),C(e);var t=a.find((function(t){return t._id===e}));D.setFieldsValue({name:t.name,email:t.email})},T=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.validateFields();case 3:return t=e.sent,e.next=6,h.a.post("/api/users/updateuser",Object(M.a)({userId:k},t));case 6:g(!1),A(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),x(e.t0.message||"Error updating the user");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){A()}),[]),Object(l.jsx)("div",{className:"row",children:o?Object(l.jsx)(w,{}):O?Object(l.jsx)(S,{msg:O}):Object(l.jsxs)("div",{className:"col-md-12",children:[Object(l.jsx)(V.a,{columns:P,dataSource:a}),Object(l.jsx)(te.a,{title:"Update User Profile",visible:v,onOk:T,onCancel:function(){g(!1)},children:Object(l.jsxs)($.a,{form:D,layout:"vertical",children:[Object(l.jsx)(ne,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter the name"}],children:Object(l.jsx)(ae.a,{})}),Object(l.jsx)(ne,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter the email"}],children:Object(l.jsx)(ae.a,{})})]})})]})})},ce=a(103),se=a(342),oe={labelCol:{span:4},wrapperCol:{span:16}},ie={wrapperCol:{offset:8,span:16}},le=function(){var e=ce.a.Option,t=Object(n.useState)({name:"",description:"",maxcount:1,phonenumber:"",rentperday:1,imageurl1:"",imageurl2:"",imageurl3:"",type:"",address:""}),a=Object(m.a)(t,2),r=(a[0],a[1]),c=Object(n.useState)(!1),s=Object(m.a)(c,2),o=s[0],i=s[1],d=Object(n.useState)(""),j=Object(m.a)(d,2),O=j[0],x=j[1],p=$.a.useForm(),f=Object(m.a)(p,1)[0],v=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,n,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(""),i(!0),e.prev=2,e.next=5,h.a.post("/api/rooms/addroom",t);case 5:e.sent.data,F.a.fire("Congratulations","Your Room Added Successfully","success"),f.resetFields(),r({name:"",description:"",maxcount:1,phonenumber:"",rentperday:1,imageurl1:"",imageurl2:"",imageurl3:"",type:"",address:""}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0),x((null===(a=e.t0.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"An error occurred"),F.a.fire("Oops","Error: ".concat((null===(c=e.t0.response)||void 0===c||null===(s=c.data)||void 0===s?void 0:s.message)||"An error occurred"),"error");case 16:i(!1);case 17:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"row",children:o?Object(l.jsx)(w,{}):O.length>0?Object(l.jsx)(S,{msg:O}):Object(l.jsx)("div",{className:"col-md-12",children:Object(l.jsxs)($.a,Object(M.a)(Object(M.a)({},oe),{},{form:f,name:"control-hooks",onFinish:v,children:[Object(l.jsx)($.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter the name"}],children:Object(l.jsx)(ae.a,{})}),Object(l.jsx)($.a.Item,{name:"description",label:"Description",rules:[{required:!0,message:"Please enter the description"}],children:Object(l.jsx)(ae.a,{})}),Object(l.jsx)($.a.Item,{name:"maxcount",label:"Max Count",rules:[{required:!0,message:"Please enter the max count"}],children:Object(l.jsx)(se.a,{min:1,defaultChecked:1})}),Object(l.jsx)($.a.Item,{name:"phonenumber",label:"Phone Number",rules:[{required:!0,message:"Please enter the phone number"}],children:Object(l.jsx)(ae.a,{})}),Object(l.jsx)($.a.Item,{name:"rentperday",label:"Rent Per Day",rules:[{required:!0,message:"Please enter the rent per day"}],children:Object(l.jsx)(se.a,{min:1,defaultChecked:1})}),Object(l.jsx)($.a.Item,{name:"imageurl1",label:"Image URL 1",rules:[{required:!0,message:"Please enter the image URL 1"}],children:Object(l.jsx)(ae.a,{})}),Object(l.jsx)($.a.Item,{name:"imageurl2",label:"Image URL 2",rules:[{}],children:Object(l.jsx)(ae.a,{})}),Object(l.jsx)($.a.Item,{name:"imageurl3",label:"Image URL 3",rules:[{}],children:Object(l.jsx)(ae.a,{})}),Object(l.jsx)($.a.Item,{name:"type",label:"Type",rules:[{required:!0,message:"Please select the room type"}],children:Object(l.jsxs)(ce.a,{placeholder:"Select a room type",allowClear:!0,children:[Object(l.jsx)(e,{value:"delux",children:"Delux"}),Object(l.jsx)(e,{value:"non-delux",children:"Non-Delux"})]})}),Object(l.jsx)($.a.Item,{name:"address",label:"Address",rules:[{required:!0,message:"Please enter the address"}],children:Object(l.jsx)(ae.a,{})}),Object(l.jsxs)($.a.Item,Object(M.a)(Object(M.a)({},ie),{},{children:[Object(l.jsx)(K.a,{type:"primary",htmlType:"submit",children:"Add"}),Object(l.jsx)(K.a,{type:"danger",htmlType:"button",onClick:function(){f.resetFields(),r({name:"",description:"",maxcount:1,phonenumber:"",rentperday:1,imageurl1:"",imageurl2:"",imageurl3:"",type:"",address:""})},children:"Reset"})]}))]}))})})},de=z.a.TabPane;function je(e){console.log(e)}var ue=function(){var e=JSON.parse(localStorage.getItem("currentUser"));return Object(n.useEffect)((function(){e&&0!=e.isAdmin||(window.location.href="/home")}),[]),Object(l.jsxs)("div",{className:"ml-3 mt-3 mr-3 bs",children:[Object(l.jsx)("h1",{className:"text-center",children:"Admin Panel"}),Object(l.jsxs)(z.a,{defaultActiveKey:"1",onChange:je,children:[Object(l.jsx)(de,{tab:"Bookings",children:Object(l.jsx)(Q,{})},"1"),Object(l.jsx)(de,{tab:"Rooms",children:Object(l.jsx)(Z,{})},"2"),Object(l.jsx)(de,{tab:"Add Room",children:Object(l.jsx)(le,{})},"3"),Object(l.jsx)(de,{tab:"Users",children:Object(l.jsx)(re,{})},"4")]})]})};I.a.init({duration:2e3});var be=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"row landing",children:Object(l.jsxs)("div",{className:"col-md-12 text-center",children:[Object(l.jsx)("h2",{"data-aos":"zoom-in",style:{color:"white",fontSize:"100px"},children:"MERN HOTEL BOOKING"}),Object(l.jsx)("h1",{"data-aos":"zoom-out",style:{color:"white"},children:"Your Comfort, Our Priority."}),Object(l.jsx)("p",{style:{color:"white",fontSize:"18px",marginBottom:"30px"},children:"Discover a world of luxury and comfort with our premium hotel booking services."}),Object(l.jsx)(o.b,{to:"/home",children:Object(l.jsx)("button",{className:"btn btn-primary landingBtn",children:"Get Started"})})]})})})};var me=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(d,{}),Object(l.jsxs)(o.a,{children:[Object(l.jsx)(i.a,{path:"/",exact:!0,component:be}),Object(l.jsx)(i.a,{path:"/home",exact:!0,component:A}),Object(l.jsx)(i.a,{path:"/book/:roomid/:fromdate/:todate",exact:!0,component:B}),Object(l.jsx)(i.a,{path:"/register",exact:!0,component:_}),Object(l.jsx)(i.a,{path:"/login",exact:!0,component:q}),Object(l.jsx)(i.a,{path:"/profile",exact:!0,component:W}),Object(l.jsx)(i.a,{path:"/bookings",exact:!0,component:W}),Object(l.jsx)(i.a,{path:"/admin",exact:!0,component:ue})]})]})},Oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,348)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(me,{})}),document.getElementById("root")),Oe()}},[[333,1,2]]]);
//# sourceMappingURL=main.9c10798a.chunk.js.map